(this.webpackJsonpfrontend_attendance=this.webpackJsonpfrontend_attendance||[]).push([[0],{123:function(e,s,a){},124:function(e,s,a){"use strict";a.r(s);var t=a(3),c=a(65),l=a.n(c),n=(a(27),a(51),a(80),a(20)),r=a(6),i=a(38),d=a.n(i),o=a(1);const m="user",j=Object(t.createContext)({user:null,setUser:()=>{},signOut:()=>{}}),b=e=>{let{children:s}=e;const[a,c]=Object(t.useState)(null),l=Object(r.o)();return Object(t.useEffect)((()=>{const e=localStorage.getItem(m);e&&c(JSON.parse(e))}),[]),Object(o.jsx)(j.Provider,{value:{user:a,setUser:e=>{localStorage.setItem(m,JSON.stringify(e)),c(e)},signOut:()=>{localStorage.removeItem(m),c(null),l("/")}},children:s})};var h=a.p+"static/media/attnlg.9fbacb05.jpg";a(15),a(53);var x=()=>{const[e,s]=Object(t.useState)(""),[a,c]=Object(t.useState)(""),[l,n]=Object(t.useState)(""),[i,m]=Object(t.useState)(""),b=Object(r.o)(),x=Object(t.useContext)(j),O=async t=>{t.preventDefault();try{let t;if("Administrator"===e)t="admin";else{if("ClassTeacher"!==e)throw new Error("Invalid user type");t="teacher"}const r=await(async e=>{const s=d()(l),t=await fetch("".concat("https://ams-made-ez.onrender.com","/api/login/").concat(e),{method:"POST",body:JSON.stringify({email:a,password:s}),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Invalid Username/Password!");return await t.json()})(t);await x.setUser(r[0]),c(""),n(""),s(""),b("/".concat(t))}catch(i){console.error(i),m(i.message)}};return console.log(e),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"bg-gradient-login",children:Object(o.jsx)("div",{className:"container-login",children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("div",{className:"col-xl-10 col-lg-12 col-md-9",children:Object(o.jsx)("div",{className:"card shadow-sm my-5",children:Object(o.jsx)("div",{className:"card-body p-0",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"login-form",children:[Object(o.jsx)("h4",{className:"text-gray-600 fw-300",align:"center",children:"ATTENDANCE MANAGEMENT SYSTEM"}),Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("img",{src:h,alt:"loading",style:{width:"100px",height:"100px"}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("h4",{className:"text-gray-800 mb-4",children:"LOG IN"})]}),Object(o.jsxs)("form",{className:"user",autoComplete:"on",onSubmit:e=>O(e),children:[Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("select",{required:!0,name:"userType",className:"form-control mb-3",value:e,onChange:e=>s(e.target.value),children:[Object(o.jsx)("option",{value:"",children:"--Select User Roles--"}),Object(o.jsx)("option",{value:"Administrator",children:"Administrator"}),Object(o.jsx)("option",{value:"ClassTeacher",children:"ClassTeacher"})]})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{type:"text",className:"form-control mb-3",required:!0,name:"username",id:"exampleInputEmail",placeholder:"Enter Email Address",value:a,onChange:e=>c(e.target.value)})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{type:"password",name:"password",required:!0,className:"form-control mb-5",id:"exampleInputPassword",placeholder:"Enter Password",value:l,onChange:e=>n(e.target.value)})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{type:"submit",className:"btn btn-success btn-block",style:{width:"100%"},value:"Login",name:"login"})})]}),i?Object(o.jsx)("div",{className:"alert alert-danger mt-3 p-2",role:"alert",children:i}):"",Object(o.jsx)("div",{className:"text-center"})]})})})})})})})})})})};var O=()=>{const e=JSON.parse(localStorage.getItem("user")),s=Object(r.m)();return e?"admin"===e.role&&s.pathname.startsWith("/teacher")?Object(o.jsx)(r.a,{to:"/admin"}):"teacher"===e.role&&s.pathname.startsWith("/admin")?Object(o.jsx)(r.a,{to:"/teacher"}):Object(o.jsx)(r.b,{}):Object(o.jsx)(r.a,{to:"/"})},N=(a(84),a(134));var u=()=>{const[e,s]=Object(t.useState)([{title:"CLASS AND CLASS ARMS",Items:[{id:0,icon:"fas fa-chalkboard",linkText:"Create classes",text:"Manage Classes",link:"/classes",status:{isOpen:!1}},{id:1,icon:"fas fa-code-branch",linkText:"Create class Arms ",text:"Manage Class Arms",link:"/arms",status:{isOpen:!1}}]},{title:"TEACHERS",Items:[{id:0,icon:"fas fa-chalkboard-teacher",linkText:"Create Teachers",text:"Manage Teachers",link:"/teachers",status:{isOpen:!1}}]},{title:"STUDENTS",Items:[{id:0,icon:"fas fa-user-graduate",linkText:"Create Students",text:"Manage Students",link:"/students",status:{isOpen:!1}}]},{title:"SESSION AND TERM",Items:[{id:0,icon:"fas fa-user-graduate",linkText:"Create Session and Term",text:"Manage Session & Term",link:"/session",status:{isOpen:!1}}]}]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"navbar-nav sidebar sidebar-light accordion",id:"accordionSidebar",children:[Object(o.jsxs)("a",{className:"sidebar-brand d-flex align-items-center bg-gradient-primary",href:"#",children:[Object(o.jsx)("div",{className:"sidebar-brand-icon",children:Object(o.jsx)("img",{src:h,alt:""})}),Object(o.jsx)("div",{className:"sidebar-brand-text mx-2",children:"AMS"})]}),Object(o.jsx)("hr",{className:"sidebar-divider my-0"}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsxs)("a",{className:"nav-link",href:"#",children:[Object(o.jsx)("i",{className:"fas fa-fw fa-tachometer-alt"}),Object(o.jsx)("span",{children:"Dashboard"})]})}),Object(o.jsx)("hr",{className:"sidebar-divider"}),e.map(((a,t)=>Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"sidebar-heading",children:a.title}),a.Items.map(((t,c)=>Object(o.jsx)("div",{children:Object(o.jsxs)("li",{className:"nav-item p-0 m-1",onClick:()=>((a,t,c)=>{const l=e.findIndex((e=>e.title===t)),n=e.find((e=>e.title===t)).Items[a],r=[...e];r[l].Items[a].status.isOpen=!n.status.isOpen,s(r)})(t.id,a.title),children:[Object(o.jsxs)("a",{className:"nav-link collapsed p-2",href:"#","data-toggle":"collapse","data-target":t.linkText,"aria-expanded":t.status.isOpen,"aria-controls":t.linkText,children:[Object(o.jsx)("i",{className:t.icon}),Object(o.jsx)("span",{children:t.text})]}),Object(o.jsx)(N.a,{in:t.status.isOpen,className:"collapse",id:t.linkText,"data-parent":"#accordionSidebar",children:Object(o.jsxs)("div",{className:"bg-white p-2 card m-3 text-center border-0 collapse-inner rounded",children:[Object(o.jsx)("h6",{className:"collapse-header text-uppercase",children:t.text}),Object(o.jsx)(n.b,{to:"/admin".concat(t.link),className:"collapse-item",style:{textDecoration:"none"},children:t.linkText})]})})]})},c))),Object(o.jsx)("hr",{className:"sidebar-divider mt-0"})]},t)))]})})},p=a(133),f=a(21),g=a.n(f);const v=()=>{const e=Object(t.useContext)(j),s=JSON.parse(localStorage.getItem("user")),a=s.firstName+s.lastName;return console.log(a),Object(t.useEffect)((()=>{g()(document).on("scroll",(function(){g()(this).scrollTop()>100?g()(".scroll-to-top").fadeIn():g()(".scroll-to-top").fadeOut()}))}),[]),Object(o.jsx)("div",{children:Object(o.jsx)("nav",{className:"navbar navbar-expand navbar-light bg-gradient-secondary topbar mb-4 static-top",children:Object(o.jsxs)("ul",{className:"navbar-nav ml-auto justify-content-end ",children:[Object(o.jsx)("div",{className:"topbar-divider d-none d-sm-block"}),Object(o.jsx)("li",{className:"nav-item dropdown no-arrow custom-dropdown",children:Object(o.jsxs)(p.a,{title:Object(o.jsxs)("span",{children:[Object(o.jsx)("img",{className:"img-profile rounded-circle",src:"data:image/png;base64,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",style:{maxWidth:"60px"},alt:"loading"}),Object(o.jsx)("span",{className:"ml-2 d-none d-lg-inline text-white small",children:Object(o.jsxs)("b",{children:[" Welcome ",a," "]})})]}),id:"userDropdown",style:{paddingLeft:"0",paddingRight:"0"},children:[Object(o.jsx)(p.a.Divider,{}),Object(o.jsxs)(p.a.Item,{onClick:e.signOut,children:[Object(o.jsx)("i",{className:"fas fa-power-off fa-fw mr-2 text-danger"}),"Logout"]})]})})]})})})};var w=Object(t.memo)(v),A=a(71);a(123);var y=e=>{let{columns:s,rows:a,RowClick:t}=e;const c={columns:s,rows:a.map(((e,s)=>{const a={...e,index:s+1};return t&&(a.clickEvent=s=>l(e,s)),a}))},l=(e,s)=>{t(s),console.log(e)};return Object(o.jsx)("div",{children:Object(o.jsx)(A.c,{striped:!0,bordered:!0,small:!0,hover:!0,data:c,className:"custom-table",noBottomColumns:!0,responsive:!0,noRecordsFoundLabel:"No Record Found!",theadColor:"primary-color",options:{showEntries:!0,entriesLabel:"Show",paginationLabel:"Entries per page",entriesOptions:[5,10,20]},classnames:{showEntriesWrapper:"show-entries-wrapper",showEntriesSelect:"show-entries-select",showEntriesLabel:"show-entries-label",showEntriesArrow:"show-entries-arrow"}})})},S=a(19),C=a(18);var I=function(){var e;const s="https://ams-made-ez.onrender.com",a="key_local_storage",[c,l]=Object(t.useState)(null!==(e=JSON.parse(localStorage.getItem(a)))&&void 0!==e?e:[]),[n,r]=Object(t.useState)({id:"",value:!1}),[i,d]=Object(t.useState)({id:"",value:!1}),[m,j]=Object(t.useState)(),[b,h]=Object(t.useState)(!1),[x]=Object(t.useState)("12345"),[O,N]=Object(t.useState)([]),[p,f]=Object(t.useState)([]),[g,v]=Object(t.useState)(),[A,I]=Object(t.useState)(),[T,q]=Object(t.useState)(),[k,E]=Object(t.useState)({Id:"",firstName:"",lastName:"",otherName:"",admissionNumber:"",password:"",classId:"",classArmId:"",date:""}),V=new Date,U="".concat(V.getFullYear(),"-").concat(V.getMonth()+1,"-").concat(V.getDate()),X=[];p.forEach((e=>{X.push(e.className)}));const M=[];O.forEach((e=>{M.push(e.classArmName)}));const W=e=>{const{name:s,value:a}=e.target;E((e=>({...e,[s]:a})))};Object(t.useEffect)((()=>{localStorage.setItem(a,JSON.stringify(c))}),[c]);const D=async()=>{try{const e=await fetch("".concat(s,"/api/admin/student/getall")),a=await e.json();l(a);const t=await fetch("".concat(s,"/api/admin/class/getallASC")),c=await t.json();f(c)}catch(e){console.log(e)}};return Object(t.useEffect)((()=>{D()}),[]),Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsx)("div",{className:"container-fluid",id:"container-wrapper",children:Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Create Students"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./admin",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create Students"})]})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Create Students"})}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:e=>(async e=>{e.preventDefault();try{const e=await fetch("".concat(s,"/api/admin/student/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:k.firstName,lastName:k.lastName,otherName:k.otherName,admissionNumber:k.admissionNumber,password:x,classId:A,classArmId:T,dateCreated:U})});let a=await e.json();console.log(a),j(a.data.Id+1)}catch(a){console.log(a)}D()})(e),children:[Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Firstname",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control custom-input",name:"firstName",onChange:W,value:k.firstName,id:"exampleInputFirstName"})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Lastname",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control custom-input",name:"lastName",onChange:W,value:k.lastName,id:"exampleInputFirstName"})]})]}),Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Other Name",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control custom-input",name:"otherName",onChange:W,value:k.otherName,id:"exampleInputFirstName"})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Admission Number",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control custom-input",name:"admissionNumber",onChange:W,value:k.admissionNumber,id:"exampleInputFirstName"})]})]}),Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),p&&Object(o.jsxs)("select",{required:!0,className:"form-control mb-3",onChange:e=>(e=>{v(e.target.value);const a=p.find((s=>s.className===e.target.value));I(a.Id),(async()=>{const e=await fetch("".concat(s,"/api/admin/class/arms/getall/").concat(a.Id)),t=await e.json();N(t)})(),E((e=>({...e,classId:a.Id})))})(e),children:[Object(o.jsx)("option",{value:"",children:"--Select Class--"}),X.map(((e,s)=>Object(o.jsx)("option",{value:e,children:e},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Class Arm",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),g&&Object(o.jsxs)("select",{required:!0,name:"classArmId",className:"form-control custom-input mb-3",onChange:e=>{const s=O.find((s=>s.classArmName===e.target.value));q(s.Id),E((e=>({...e,classArmId:s.Id})))},children:[Object(o.jsx)("option",{value:"",children:"--Select Class Arm--"}),M.map(((e,s)=>Object(o.jsx)("option",{value:e,children:e},s)))]})]})]}),b?Object(o.jsx)("button",{name:"update",type:"button",className:"btn btn-warning",onClick:async()=>{const e=await fetch("".concat(s,"/api/admin/student/").concat(k.Id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:k.firstName,lastName:k.lastName,otherName:k.otherName,admissionNumber:k.admissionNumber,password:k.password,classId:A,classArmId:T,dateCreated:U})}),a=await e.json();console.log(a),D(),h(!1)},children:"Update"}):Object(o.jsx)("button",{type:"submit",name:"save",className:"btn btn-primary",children:"Save"})]})})]})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"All Student"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:c&&c.length>0&&Object(o.jsx)(y,{columns:[{label:"Id",field:"index"},{label:"FirstName",field:"firstName"},{label:"LastName",field:"lastName"},{label:"OtherName",field:"otherName"},{label:"Admission No",field:"admissionNumber"},{label:"Class",field:"className"},{label:"ClassArm",field:"classArmName"},{label:"Date Created",field:"dateCreated"},{label:"Edit",field:"edit"},{label:"Delete",field:"delete"}],rows:c.map(((e,a)=>({index:e.Id.toString(),firstName:e.firstName,lastName:e.lastName,otherName:e.otherName,admissionNumber:e.admissionNumber,className:e.className,classArmName:e.classArmName,dateCreated:e.dateCreated,edit:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.a,onMouseOver:()=>r({id:e.Id,value:!0}),onMouseLeave:()=>r({id:e.Id,value:!1}),style:n.id===e.Id&&!0===n.value?{color:"blue",cursor:"pointer"}:{},onClick:()=>(async e=>{h(!0);const s=c.find((s=>s.Id===e));console.log(s),E(s)})(e.Id)}),Object(o.jsx)("span",{children:" Edit "})]}),delete:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.b,onMouseOver:()=>d({id:e.Id,value:!0}),onMouseLeave:()=>d({id:e.Id,value:!1}),style:i.id===e.Id&&!0===i.value?{color:"red",cursor:"pointer"}:{},onClick:()=>(async e=>{try{const a=await fetch("".concat(s,"/api/admin/student/").concat(e),{method:"delete"});console.log(a);const t=await a.json();console.log(t)}catch(a){console.log(a)}D()})(e.Id)}),Object(o.jsx)("span",{children:" Delete "})]})})))})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})})]})})]})})};var T=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)(""),[c,l]=Object(t.useState)([]),[n,r]=Object(t.useState)(""),[i,d]=Object(t.useState)({id:"",value:!1}),[m,j]=Object(t.useState)({id:"",value:!1}),[b,h]=Object(t.useState)(!1),[x,O]=Object(t.useState)({Id:"",className:""}),N=Object(t.useCallback)((async()=>{const s=await fetch("".concat(e,"/api/admin/class/getall")),a=await s.json();l(a)}),[e]);Object(t.useEffect)((()=>{N()}),[N]);const p=Object(t.useCallback)((async s=>{try{const a=await fetch("".concat(e,"/api/admin/class/").concat(s),{method:"delete"}),t=await a.json();console.log(t)}catch(a){console.log(a)}N()}),[N,e]),f=Object(t.useCallback)((async()=>{try{const a=await fetch("".concat(e,"/api/admin/class/").concat(x.Id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({className:s})});if(200===a.status){const e=await a.json();console.log(e)}}catch(t){console.log(t)}N(),a(""),h(!1)}),[N,s,x.Id,e]),g=Object(t.useCallback)((async e=>{h(!0);const s=c.find((s=>s.Id===e));a(s.className),O(s)}),[c]),v=Object(t.useCallback)((e=>{a(e.target.value)}),[]),A=Object(t.useCallback)((async a=>{try{a.preventDefault();const t=await fetch("".concat(e,"/api/admin/class/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({className:s})});if(console.log(t),!t.ok){const e=await t.json();throw console.log(e),new Error(e)}}catch(t){r(t.message)}}),[s,e]);return Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Create class"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create class"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-lg-12",children:[Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsxs)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Create class"}),n?Object(o.jsx)("div",{className:"alert alert-danger alert-dismissible fade show js-alert",role:"alert",style:{padding:"5px",marginRight:"700px"},children:n}):""]}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:e=>A(e),autoComplete:"on",children:[Object(o.jsx)("div",{className:"form-group row mb-3",children:Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["class Name"," ",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control",name:"className",value:s,id:"exampleInputFirstName",placeholder:"class Name ",onChange:v})]})}),b?Object(o.jsx)("button",{name:"update",type:"button",className:"btn btn-warning",onClick:f,children:"Update"}):Object(o.jsx)("button",{type:"submit",name:"save",className:"btn btn-primary",children:"Save"})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"All classes"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:c&&c.length>0&&Object(o.jsx)(y,{columns:[{label:"Id",field:"index"},{label:"Class Name",field:"className"},{label:"Edit",field:"edit"},{label:"Delete",field:"delete"}],rows:c.map(((e,s)=>({index:e.Id.toString(),className:e.className,edit:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.a,onMouseOver:()=>d({id:e.Id,value:!0}),onMouseLeave:()=>d({id:e.Id,value:!1}),style:i.id===e.Id&&!0===i.value?{color:"blue",cursor:"pointer"}:{},onClick:()=>g(e.Id)}),Object(o.jsx)("span",{children:" Edit "})]}),delete:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.b,onMouseOver:()=>j({id:e.Id,value:!0}),onMouseLeave:()=>j({id:e.Id,value:!1}),style:m.id===e.Id&&!0===m.value?{color:"red",cursor:"pointer"}:{},onClick:()=>p(e.Id)}),Object(o.jsx)("span",{children:" Delete "})]})})))})})]})})})]})})]})]})})]})})};var q=()=>{const e=(new Date).getFullYear();return Object(o.jsx)("div",{children:Object(o.jsx)("footer",{className:"sticky-footer bg-white",children:Object(o.jsx)("div",{className:"container my-auto",children:Object(o.jsx)("div",{className:"copyright text-center my-auto",children:Object(o.jsxs)("span",{children:[" \xa9 AMS",e]})})})})})},k=a(34);var E=()=>{const e=JSON.parse(localStorage.getItem("user")),[s,a]=Object(t.useState)([{title:"STUDENTS",Items:[{id:0,icon:"fas fa-user-graduate",linkText:["View Students"],text:"Manage Students",link:"teacher/viewStudent",status:{isOpen:!1}}]},{title:"ATTENDANCE",Items:[{id:0,icon:"fas fa-chalkboard-teacher",linkText:["Take Attendance","View Class Attendance","View Student Attendance","Today's Reports"],text:"Manage Attendance",link:["takeAttendance","viewClassAttendance","viewStudentAttendance","report"],status:{isOpen:!1}}]}]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"navbar-nav sidebar sidebar-light accordion",id:"accordionSidebar",children:[Object(o.jsxs)("a",{className:"sidebar-brand d-flex align-items-center bg-gradient-primary ",href:"#",children:[Object(o.jsx)("div",{className:"sidebar-brand-icon",children:Object(o.jsx)("img",{src:h,alt:""})}),Object(o.jsx)("div",{className:"sidebar-brand-text mx-2",children:"AMS"})]}),Object(o.jsx)("hr",{className:"sidebar-divider my-0"}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsxs)("a",{className:"nav-link",href:"#",children:[Object(o.jsx)("i",{className:"fas fa-fw fa-tachometer-alt"}),Object(o.jsx)("span",{children:"Dashboard"})]})}),Object(o.jsx)("hr",{className:"sidebar-divider"}),s.map(((t,c)=>Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"sidebar-heading",children:t.title}),t.Items.map(((c,l)=>Object(o.jsx)("div",{children:Object(o.jsxs)("li",{className:"nav-item p-0 m-1",onClick:()=>((e,t,c)=>{const l=s.findIndex((e=>e.title===t)),n=s.find((e=>e.title===t)).Items[e],r=[...s];r[l].Items[e].status.isOpen=!n.status.isOpen,a(r)})(c.id,t.title),children:[Object(o.jsxs)("a",{className:"nav-link collapsed p-2",href:"#","data-toggle":"collapse","data-target":c.text,"aria-expanded":c.status.isOpen,"aria-controls":c.text,children:[Object(o.jsx)("i",{className:c.icon}),Object(o.jsx)("span",{children:c.text})]}),Object(o.jsx)(N.a,{in:c.status.isOpen,className:"collapse",id:c.text,"data-parent":"#accordionSidebar",children:Object(o.jsxs)("div",{className:"bg-white p-1 card m-2 border-0 collapse-inner rounded",children:[Object(o.jsx)("h6",{className:"collapse-header text-uppercase",style:{paddingLeft:"10px"},children:c.text}),c.linkText.map(((s,a)=>"Today's Reports"===s?Object(o.jsx)(n.b,{onClick:s=>(async s=>{s.preventDefault();try{const s="http://localhost:5000",a=await fetch("".concat(s,"/generate_reports"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:e.classId,classArmId:e.classArmId})});if(a.ok){const e=await a.json(),s="Attendance list",t=(new Date).toISOString().slice(0,10),c=k.a.json_to_sheet(e),l=k.a.book_new();k.a.book_append_sheet(l,c,"Student Data");const n=k.b(l,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=URL.createObjectURL(r),d=document.createElement("a");d.href=i,d.download="".concat(s,"-").concat(t,".xlsx"),d.click()}}catch(a){console.error(a)}})(s),className:"collapse-item ",style:{textDecoration:"none",paddingLeft:"10px",paddingBottom:"8px"},children:s},a):Object(o.jsx)(n.b,{to:"/teacher/".concat(s.replaceAll(" ","")),className:"collapse-item ",style:{textDecoration:"none",paddingLeft:"10px",paddingBottom:"8px"},children:s},a)))]})})]})},l))),Object(o.jsx)("hr",{className:"sidebar-divider mt-0"})]},c)))]})})};var V=e=>{let{studentData:s,closeModal:a}=e;const{firstName:c,lastName:l,admissionNumber:n,className:r,classArmName:i}=s,[d,m]=Object(t.useState)(!0),j=()=>{m(!1),a()};return s?Object(o.jsx)(o.Fragment,{children:d&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"modal",tabIndex:"-1",children:Object(o.jsx)("div",{className:"modal-dialog",role:"document",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsxs)("h5",{className:"modal-title",children:[c," ",l]}),Object(o.jsx)("button",{type:"button",className:"close border-0 bg-light","data-dismiss":"modal","aria-label":"Close",onClick:j,children:Object(o.jsx)("i",{className:"fas fa-times fs-4"})})]}),Object(o.jsxs)("div",{className:"modal-body",children:[Object(o.jsx)("div",{className:"profile-container",children:Object(o.jsx)("img",{className:"profile-image",src:"data:image/png;base64,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",alt:"Profile"})}),Object(o.jsxs)("div",{className:"student-details",children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Admission Number:"})," ",n]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Class:"})," ",r]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Class Arm:"})," ",i]})]})]}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:j,children:"Close"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})})}):null};var U=()=>{const[e,s]=Object(t.useState)([]),[a,c]=Object(t.useState)(""),[l,n]=Object(t.useState)(""),[r,i]=Object(t.useState)(null),d=JSON.parse(localStorage.getItem("user")),m=Object(t.useCallback)((async()=>{try{const e=await fetch("".concat("https://ams-made-ez.onrender.com","/api/teacher/view/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:d.classId,classArmId:d.classArmId})}),a=await e.json();s(a),c(a[0].className),n(a[0].classArmName)}catch(e){console.log(e)}}),[d.classArmId,d.classId]);Object(t.useEffect)((()=>{m()}),[]),console.log(r);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(E,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),r&&Object(o.jsx)(V,{studentData:r,closeModal:()=>i(null)}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsxs)("h1",{className:"h3 mb-0 text-gray-800",children:["All Student in ",a,"-",l," class"]}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"All Student in class"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"All Student In class"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:Object(o.jsx)(y,{columns:[{label:"Id",field:"index"},{label:"FirstName",field:"firstName"},{label:"LastName",field:"lastName"},{label:"OtherName",field:"otherName"},{label:"Admission No",field:"admissionNumber"},{label:"class",field:"className"},{label:"classArm",field:"classArmName"}],rows:e.map(((e,s)=>({index:s+1,firstName:e.firstName,lastName:e.lastName,otherName:e.otherName,admissionNumber:e.admissionNumber,className:e.className,classArmName:e.classArmName}))),RowClick:e=>i(e)})})]})})})})})]}),Object(o.jsx)(q,{})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})})};var X=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)(""),[c,l]=Object(t.useState)({id:"",value:!1}),[n,r]=Object(t.useState)({firstName:"",lastName:"",emailAddress:"",password:"",phoneNo:"",classId:"",classArmId:"",dateCreated:""}),i=new Date,m="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate()),j=d()("pass123"),[b,h]=Object(t.useState)(),[x,O]=Object(t.useState)(),[N,p]=Object(t.useState)(),[f,g]=Object(t.useState)([]),[v,A]=Object(t.useState)([]),[I,T]=Object(t.useState)([]),q=[];v.forEach((e=>{q.push(e.className)}));const k=[];I.forEach((e=>{k.push(e.classArmName)}));const E=e=>{const{name:s,value:a}=e.target;r((e=>({...e,[s]:a})))};console.log(v);const V=async()=>{try{const s=await fetch("".concat(e,"/api/admin/teacher/getall")),a=await s.json();g(a);const t=await fetch("".concat(e,"/api/admin/class/getallASC")),c=await t.json();A(c)}catch(s){console.log(s)}};return Object(t.useEffect)((()=>{V()}),[]),Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Create class Teachers"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create class Teachers"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-lg-12",children:[Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsxs)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Create class Teachers"}),s?Object(o.jsx)("div",{className:"alert alert-danger alert-dismissible fade show js-alert",role:"alert",style:{padding:"5px",marginRight:"700px"},children:s}):""]}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:s=>(async s=>{try{s.preventDefault();const a=await fetch("".concat(e,"/api/admin/teacher/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n.firstName,lastName:n.lastName,emailAddress:n.emailAddress,password:j,phoneNo:n.phoneNo,classId:b,classArmId:x,dateCreated:m})});if(!a.ok){const e=await a.json();throw console.log(e),new Error(e)}}catch(t){a(t.message)}V()})(s),children:[Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Firstname",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control",required:!0,name:"firstName",value:n.firstName,onChange:E,id:"exampleInputFirstName"})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Lastname",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control",required:!0,name:"lastName",value:n.lastName,onChange:E,id:"exampleInputFirstName"})]})]}),Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Email Address",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"email",className:"form-control",required:!0,name:"emailAddress",value:n.emailAddress,onChange:E,id:"exampleInputFirstName"})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Phone No",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control",name:"phoneNo",value:n.phoneNo,onChange:E,id:"exampleInputFirstName"})]})]}),Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),v&&Object(o.jsxs)("select",{required:!0,className:"form-control mb-3",onChange:s=>(s=>{p(s.target.value);const a=v.find((e=>e.className===s.target.value));h(a.Id),console.log(b),(async()=>{const s=await fetch("".concat(e,"/api/admin/class/arms/getall/").concat(a.Id)),t=await s.json();T(t)})(),r((e=>({...e,classId:a.Id})))})(s),children:[Object(o.jsx)("option",{value:"",children:"--Select Class--"}),q.map(((e,s)=>Object(o.jsx)("option",{value:e,children:e},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["class Arm",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),N&&Object(o.jsxs)("select",{required:!0,name:"classArmId",className:"form-control mb-3",onChange:e=>{const s=I.find((s=>s.classArmName===e.target.value));O(s.Id),r((e=>({...e,classArmId:s.Id})))},children:[Object(o.jsx)("option",{value:"",children:"--Select Class Arm--"}),k.map(((e,s)=>Object(o.jsx)("option",{value:e,children:e},s)))]})]})]}),Object(o.jsx)("button",{type:"submit",name:"save",className:"btn btn-primary",children:"Save"})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"All class Teachers"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:f&&f.length>0&&Object(o.jsx)(y,{columns:[{label:"#",field:"index"},{label:"FirstName",field:"firstName"},{label:"LastName",field:"lastName"},{label:"EmailAddress",field:"emailAddress"},{label:"Phone No",field:"phoneNo"},{label:"ClassName",field:"className"},{label:"ClassArm Name",field:"classArmName"},{label:"Date Created",field:"dateCreated"},{label:"Delete",field:"delete"}],rows:f.map(((s,a)=>({index:s.Id.toString(),firstName:s.firstName,lastName:s.lastName,emailAddress:s.emailAddress,phoneNo:s.phoneNo,className:s.className,classArmName:s.classArmName,dateCreated:s.dateCreated,delete:Object(o.jsx)(S.a,{icon:C.b,onMouseOver:()=>l({id:s.Id,value:!0}),onMouseLeave:()=>l({id:s.Id,value:!1}),style:c.id===s.Id&&!0===c.value?{color:"red",cursor:"pointer"}:{},onClick:()=>(async s=>{const a=f.find((e=>e.Id===s)).classArmId;try{const t=await fetch("".concat(e,"/api/admin/teacher/").concat(s,"/").concat(a),{method:"delete"}),c=await t.json();console.log(c)}catch(t){console.log(t.message)}V()})(s.Id)})})))})})]})})})]})})]})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})};var M=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)(""),[c,l]=Object(t.useState)({id:"",value:!1}),[n,r]=Object(t.useState)({id:"",value:!1}),[i,d]=Object(t.useState)(!1),[m,j]=Object(t.useState)({Id:"",className:"",classArmName:"",status:""}),[b,h]=Object(t.useState)([]),[x,O]=Object(t.useState)([]),N=[];x.forEach((e=>{N.push(e.className)}));const p=async()=>{try{const s=await fetch("".concat(e,"/api/admin/classarm/getallByClassId")),a=await s.json();h(a);const t=await fetch("".concat(e,"/api/admin/class/getallASC")),c=await t.json();O(c)}catch(s){console.log(s)}};Object(t.useEffect)((()=>{p()}),[]);return Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Create class Arms"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create class Arms"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-lg-12",children:[Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsxs)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Create class Arms"}),s?Object(o.jsx)("div",{className:"alert alert-danger alert-dismissible fade show js-alert",role:"alert",style:{padding:"5px",marginRight:"700px"},children:s}):""]}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:s=>(async s=>{try{s.preventDefault();const a=await fetch("".concat(e,"/api/admin/classarm/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:m.classId,classArmName:m.classArmName})});if(console.log(a),!a.ok){const e=await a.json();throw console.log(e),new Error(e)}}catch(t){a(t.message)}p()})(s),autoComplete:"on",children:[Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),x&&Object(o.jsxs)("select",{required:!0,name:"classId",className:"form-control mb-3",onChange:e=>{(e=>{const s=x.find((s=>s.className===e.target.value)).Id;j((e=>({...e,classId:s})))})(e)},children:[Object(o.jsx)("option",{value:"",children:"--Select class--"}),N.map(((e,s)=>Object(o.jsx)("option",{value:e,children:e},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["class Arm Name",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",className:"form-control",name:"classArmName",value:m.classArmName,onChange:e=>j((s=>({...s,classArmName:e.target.value}))),id:"exampleInputFirstName",placeholder:"class Arm Name"})]})]}),i?Object(o.jsx)("button",{name:"update",type:"button",className:"btn btn-warning",onClick:async()=>{try{const s=await fetch("".concat(e,"/api/admin/classarm/").concat(m.Id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:m.classId,classArmName:m.classArmName})});if(200===s.status){const e=await s.json();console.log(e)}}catch(s){console.log(s)}p(),d(!1)},children:"Update"}):Object(o.jsx)("button",{type:"submit",name:"save",className:"btn btn-primary",children:"Save"})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"All class Arm"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:b&&b.length>0&&Object(o.jsx)(y,{columns:[{label:"Id",field:"index"},{label:"Class Name",field:"className"},{label:"Class Arm Name",field:"classArmName"},{label:"Status",field:"status"},{label:"Edit",field:"edit"},{label:"Delete",field:"delete"}],rows:b.map(((s,a)=>({index:s.Id.toString(),className:s.className,classArmName:s.classArmName,status:"1"===s.isAssigned?"Assigned":"Unassigned",edit:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.a,onMouseOver:()=>l({id:s.Id,value:!0}),onMouseLeave:()=>l({id:s.Id,value:!1}),style:c.id===s.Id&&!0===c.value?{color:"blue",cursor:"pointer"}:{},onClick:()=>(async e=>{d(!0);const s=b.find((s=>s.Id===e));j(s)})(s.Id)}),Object(o.jsx)("span",{children:" Edit "})]}),delete:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,{icon:C.b,onMouseOver:()=>r({id:s.Id,value:!0}),onMouseLeave:()=>r({id:s.Id,value:!1}),style:n.id===s.Id&&!0===n.value?{color:"red",cursor:"pointer"}:{},onClick:()=>(async s=>{try{const a=await fetch("".concat(e,"/api/admin/classarm/").concat(s),{method:"delete"}),t=await a.json();console.log(t)}catch(a){console.log(a)}p()})(s.Id)}),Object(o.jsx)("span",{children:" Delete "})]})})))})})]})})})]})})]})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})};var W=()=>Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",class:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{class:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Create Session and Term"}),Object(o.jsxs)("ol",{class:"breadcrumb",children:[Object(o.jsx)("li",{class:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{class:"breadcrumb-item active","aria-current":"page",children:"Create Session and Term"})]})]}),Object(o.jsx)("div",{class:"row",children:Object(o.jsxs)("div",{class:"col-lg-12",children:[Object(o.jsxs)("div",{class:"card mb-4",children:[Object(o.jsx)("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{class:"m-0 font-weight-bold text-primary",children:"Create Session and Term"})}),Object(o.jsx)("div",{class:"card-body",children:Object(o.jsxs)("form",{method:"post",children:[Object(o.jsxs)("div",{class:"form-group row mb-3",children:[Object(o.jsxs)("div",{class:"col-xl-6",children:[Object(o.jsxs)("label",{class:"form-control-label",children:["Session Name",Object(o.jsx)("span",{class:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",class:"form-control",name:"sessionName",value:"",id:"exampleInputFirstName",placeholder:"Session"})]}),Object(o.jsxs)("div",{class:"col-xl-6",children:[Object(o.jsxs)("label",{class:"form-control-label",children:["Term",Object(o.jsx)("span",{class:"text-danger ml-2",children:"*"})]}),Object(o.jsxs)("select",{required:!0,name:"termId",class:"form-control mb-3",children:[Object(o.jsx)("option",{value:"",children:"--Select Tern--"}),Object(o.jsx)("option",{value:""})]})]})]}),Object(o.jsx)("button",{type:"submit",name:"save",class:"btn btn-primary",children:"Save"})]})})]}),Object(o.jsx)("div",{class:"row",children:Object(o.jsx)("div",{class:"col-lg-12",children:Object(o.jsxs)("div",{class:"card mb-4",children:[Object(o.jsxs)("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(o.jsx)("h6",{class:"m-0 font-weight-bold text-primary",children:"All Session and Term"}),Object(o.jsxs)("h6",{class:"m-0 font-weight-bold text-danger",children:["Note:"," ",Object(o.jsx)("i",{children:"Click on the check symbol besides each to make session and term active!"})]})]}),Object(o.jsx)("div",{class:"table-responsive p-3",children:Object(o.jsxs)("table",{class:"table align-items-center table-flush table-hover",id:"dataTableHover",children:[Object(o.jsx)("thead",{class:"thead-light",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"Session"}),Object(o.jsx)("th",{children:"Term"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Date"}),Object(o.jsx)("th",{children:"Activate"}),Object(o.jsx)("th",{children:"Edit"}),Object(o.jsx)("th",{children:"Delete"})]})}),Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:".",children:Object(o.jsx)("i",{class:"fas fa-fw fa-check"})})}),Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:".",children:Object(o.jsx)("i",{class:"fas fa-fw fa-edit"})})}),Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:".",children:Object(o.jsx)("i",{class:"fas fa-fw fa-trash"})})})]})})]})})]})})})]})})]})]})}),Object(o.jsx)("a",{class:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{class:"fas fa-angle-up"})})]})});var D=()=>{const e=JSON.parse(localStorage.getItem("user")),s=e.classId,a=e.classArmId,c="https://ams-made-ez.onrender.com",[l,n]=Object(t.useState)(),[r,i]=Object(t.useState)(),[d,m]=Object(t.useState)(),[j,b]=Object(t.useState)();return Object(t.useEffect)((()=>{(async()=>{const e=await fetch("".concat(c,"/api/teacher/view/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:s,classArmId:a})}),t=await e.json();console.log(t),i(t.length)})(),(async()=>{const e=await fetch("".concat(c,"/api/admin/class/getall")),s=await e.json();n(s.length)})(),(async()=>{const e=await fetch("".concat(c,"/api/admin/classarm/getall")),s=await e.json();m(s.length)})(),(async()=>{const e=await fetch("".concat(c,"/api/teacher/getall/class/attendance/").concat(s,"/").concat(a)),t=await e.json();b(t.length)})()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(E,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsxs)("h1",{className:"h3 mb-0 text-gray-800",children:["Class Teacher Dashboard"," "]}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Dashboard"})]})]}),Object(o.jsxs)("div",{className:"row mb-3",children:[Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"STUDENTS"}),Object(o.jsx)("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800",children:r}),Object(o.jsxs)("div",{className:"mt-2 mb-0 text-muted text-xs",children:[Object(o.jsxs)("span",{className:"text-success mr-2",children:[Object(o.jsx)("i",{className:"fas fa-arrow-up"})," 20.4%"]}),Object(o.jsx)("span",{children:" Since last month"})]})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-users fa-2x text-info"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-uppercase text-gray-600 text-xs fw-bold mb-1",children:"classes"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:l}),Object(o.jsxs)("div",{className:"mt-2 mb-0 text-muted text-xs",children:[Object(o.jsxs)("span",{className:"text-success mr-2",children:[Object(o.jsx)("i",{className:"fa fa-arrow-up"})," 3.48%"]}),Object(o.jsx)("span",{children:" Since last month"})]})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-chalkboard fa-2x text-primary"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:" text-uppercase text-gray-600 text-xs fw-bold mb-1",children:"class Arms"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:d}),Object(o.jsxs)("div",{className:"mt-2 mb-0 text-muted text-xs",children:[Object(o.jsxs)("span",{className:"text-success mr-2",children:[Object(o.jsx)("i",{className:"fas fa-arrow-up"})," 12%"]}),Object(o.jsx)("span",{children:" Since last years"})]})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-code-branch fa-2x text-success"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-uppercase text-gray-600 text-xs fw-bold mb-1",children:"Total Student Attendance"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:j}),Object(o.jsxs)("div",{className:"mt-2 mb-0 text-muted text-xs",children:[Object(o.jsxs)("span",{className:"text-danger mr-2",children:[Object(o.jsx)("i",{className:"fas fa-arrow-down"})," 1.10%"]}),Object(o.jsx)("span",{children:" Since yesterday"})]})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-calendar fa-2x text-warning"})})]})})})})]})]}),Object(o.jsx)(q,{})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})})};var F=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)(""),[c,l]=Object(t.useState)(""),[n,r]=Object(t.useState)(""),[i,d]=Object(t.useState)(""),[m,j]=Object(t.useState)(""),[b,h]=Object(t.useState)(""),[x,O]=Object(t.useState)("");Object(t.useEffect)((()=>{N()}),[]);const N=async()=>{const s=await fetch("".concat(e,"/api/admin/student/getall")),t=await s.json();a(t.length);const c=await fetch("".concat(e,"/api/admin/class/getall")),n=await c.json();l(n.length);const i=await fetch("".concat(e,"/api/admin/classarm/getall")),o=await i.json();d(o.length);const m=await fetch("".concat(e,"/api/teacher/getall/attendance")),b=await m.json();j(b.length);const x=await fetch("".concat(e,"/api/admin/session/getAll")),N=await x.json();h(N.length);const u=await fetch("".concat(e,"/api/admin/session/term/getall")),p=await u.json();O(p.length);const f=await fetch("".concat(e,"/api/admin/teacher/getall")),g=await f.json();r(g.length)};return Object(o.jsx)("div",{children:Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Administrator Dashboard"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Dashboard"})]})]}),Object(o.jsxs)("div",{className:"row mb-3",children:[Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{class:"text-gray-600 text-xs fw-bold mb-1",children:"STUDENTS"}),Object(o.jsxs)("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800",children:[" ",s]}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-users fa-2x text-info"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"ClASSES"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:c}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-chalkboard fa-2x text-primary"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"CLASS ARMS"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:i}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-code-branch fa-2x text-success"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"TOTAL STUDENT ATTENDANCE"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:m}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-calendar fa-2x text-secondary"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"CLASS TEACHERS"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:n}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-chalkboard-teacher fa-2x text-danger"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"SESSION & TERMS"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:b}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-calendar-alt fa-2x text-warning"})})]})})})}),Object(o.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(o.jsx)("div",{className:"card h-100",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(o.jsxs)("div",{className:"col mr-2",children:[Object(o.jsx)("div",{className:"text-gray-600 text-xs fw-bold mb-1",children:"TERMS"}),Object(o.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:x}),Object(o.jsx)("div",{className:"mt-2 mb-0 text-muted text-xs"})]}),Object(o.jsx)("div",{className:"col-auto",children:Object(o.jsx)("i",{className:"fas fa-th fa-2x text-info"})})]})})})})]})]}),Object(o.jsx)(q,{})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})})};var J=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)(!1),[c,l]=Object(t.useState)(),[n,r]=Object(t.useState)(),[i,d]=Object(t.useState)(),[m,j]=Object(t.useState)([]),[b,h]=Object(t.useState)([]),[x,O]=Object(t.useState)([]),[N,u]=Object(t.useState)([]),[p,f]=Object(t.useState)([]),[g,v]=Object(t.useState)(""),[A,S]=Object(t.useState)(""),[C,I]=Object(t.useState)(""),[T,k]=Object(t.useState)(),[V,U]=Object(t.useState)(),[X,M]=Object(t.useState)([]),[W,D]=Object(t.useState)(""),[F,J]=Object(t.useState)(""),P=JSON.parse(localStorage.getItem("user")),K=new Date,[L,R]=Object(t.useState)(""),[Q,B]=Object(t.useState)(""),[H,Y]=Object(t.useState)("");let G=K.getDate(),z=K.getMonth()+1,Z=K.getFullYear();G<10&&(G="0"+G),z<10&&(z="0"+z);let _="".concat(G,"-").concat(z,"-").concat(Z);console.log(X);Object(t.useEffect)((()=>{Y(""),R("")}),[]);return Object(t.useEffect)((()=>{(async()=>{try{const s=await fetch("".concat(e,"/api/teacher/view/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:P.classId,classArmId:P.classArmId})}),a=await s.json();u(a),M(a.map((e=>({adNo:e.admissionNumber,status:!1})))),D(a[0].className),J(a[0].classArmName)}catch(s){console.log(s)}})(),(async()=>{const s=await fetch("".concat(e,"/api/admin/class/getallASC")),a=await s.json();h(a)})()}),[]),Object(o.jsx)("div",{children:Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(E,{}),Object(o.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsxs)("h1",{className:"h3 mb-2 text-gray-800",children:["Take Attendance (Today's Date :",_,")"]}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"All Student in class"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsxs)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(o.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:["All Student in ",W,"-",F," Class"]}),Object(o.jsxs)("h6",{className:"m-0 font-weight-bold text-danger",children:["Note:"," ",Object(o.jsx)("i",{children:"Click on the checkboxes besides each student to take attendance!"})]})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("form",{onSubmit:s=>(async s=>{s.preventDefault();try{const s=await fetch("".concat(e,"/api/teacher/view/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:i,classArmId:c})}),t=await s.json();u(t),f(t),a(!0),D(t[0].className),J(t[0].classArmName),M(t.map((e=>({adNo:e.admissionNumber,status:!1}))));const l=await fetch("".concat(e,"/api/teacher/add/attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:i,classArmId:c,subjectId:n,day:A,dateTaken:g,timeTaken:C})}),r=await l.json();console.log(r)}catch(t){console.log(t)}})(s),children:[Object(o.jsxs)("div",{className:"row mb-2",children:[Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Date",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"date",required:!0,className:"form-control",name:"dateTaken",value:g,onChange:e=>{if(v(e.target.value),g){const[e,s,a]=g.split("-"),t=new Date("".concat(s,"/").concat(a,"/").concat(e)).toLocaleString("en-US",{weekday:"long"});console.log(t),S(t)}},id:"exampleInputFirstName",placeholder:"Enter date"})]}),Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Subject",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),m&&Object(o.jsxs)("select",{required:!0,name:"subjectName",value:T,onChange:e=>{k(e.target.value);const s=m.find((s=>s.subjectName===e.target.value));r(s.Id)},className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"--Select Subject--"}),m.map(((e,s)=>Object(o.jsx)("option",{value:e.subjectName,children:e.subjectName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),b&&Object(o.jsxs)("select",{required:!0,name:"className",value:V,onChange:s=>(async s=>{U(s.target.value);const a=b.find((e=>e.className===s.target.value));d(a.Id),(async()=>{const s=await fetch("".concat(e,"/api/admin/class/arms/getall/").concat(a.Id)),t=await s.json();O(t);const c=await fetch("".concat(e,"/api/teacher/subjects/").concat(a.Id)),l=await c.json();j(l)})()})(s),className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"--Select Class--"}),b.map(((e,s)=>Object(o.jsx)("option",{value:e.className,children:e.className},s)))]}),V&&Object(o.jsxs)("select",{required:!0,name:"classArmId",className:"form-control mb-3",onChange:e=>{const s=x.find((s=>s.classArmName===e.target.value));l(s.Id)},children:[Object(o.jsx)("option",{value:"",children:"--Select Class Arm--"}),x.map(((e,s)=>Object(o.jsx)("option",{value:e.classArmName,children:e.classArmName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Time",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"text",required:!0,className:"form-control",name:"timeTaken",value:C,onChange:e=>{I(e.target.value)},onBlur:e=>{/^\d{1,2}[ap]m-\d{1,2}[ap]m$/.test(C)?B(""):(B("Invalid time range format. Please follow the format: '10am - 11am'"),I(""))},id:"exampleInputFirstName",placeholder:"Enter Time Range (e.g., 10am - 11am)"}),Q&&Object(o.jsx)("div",{id:"errorContainer",style:{color:"red"},children:Q})]})]}),Object(o.jsx)("button",{type:"submit",name:"view",className:"btn btn-light text-info fw-bolder",children:"VIEW STUDENTS"})]}),Object(o.jsxs)("form",{className:"mt-5",onSubmit:async s=>{s.preventDefault();try{if(!(await fetch("".concat(e,"/api/teacher/take/attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentData:{classId:i,classArmId:c,subjectId:n,dateTaken:g,timeTaken:C},attendance:X})})).ok)throw new Error("Attendance has already been taken");Y("Attendance taken successfully"),R("")}catch(a){console.log(a),R("Attendance has already been taken"),Y("")}},children:[L&&Object(o.jsx)("div",{className:"alert alert-danger",children:L}),H&&Object(o.jsx)("div",{className:"alert alert-success",children:H}),Object(o.jsxs)("div",{className:"table-responsive align-items-center table-flush p-3",children:[Object(o.jsx)(y,{columns:[{label:"#",field:"Id"},{label:"First Name",field:"firstName"},{label:"Last Name",field:"lastName"},{label:"Other Name",field:"otherName"},{label:"Admission No",field:"admissionNumber"},{label:"Class Name",field:"className"},{label:"Class Arm",field:"classArmName"},{label:"Check",field:"check"},{label:"",field:"hiddenField"}],rows:(s?p:N).map(((e,s)=>{var a;return{Id:s+1,firstName:e.firstName,lastName:e.lastName,otherName:e.otherName,admissionNumber:e.admissionNumber,className:e.className,classArmName:e.classArmName,check:Object(o.jsx)("input",{name:"check",type:"checkbox",checked:null===(a=X[s])||void 0===a?void 0:a.status,onChange:()=>{var e;const a=[...X];a[s].status=!(null!==(e=X[s])&&void 0!==e&&e.status),M(a)},className:"form-checkbox"}),"Hidden Field":Object(o.jsx)("input",{name:"admissionNo",value:"",type:"hidden"})}}))}),Object(o.jsx)("button",{type:"submit",name:"save",className:"btn btn-light text-info fw-bolder text-left mb-2",children:"SAVE ATTENDANCE"})]})]})]})]})})})]})]}),Object(o.jsx)(q,{})]})]})})})};var P=()=>{const[e,s]=Object(t.useState)([]),[a,c]=Object(t.useState)(),[l,n]=Object(t.useState)(),[r,i]=Object(t.useState)(),[d,m]=Object(t.useState)([]),[j,b]=Object(t.useState)(""),[h,x]=Object(t.useState)([]),[O,N]=Object(t.useState)(""),[u,p]=Object(t.useState)(),[f,v]=Object(t.useState)(),A="https://ams-made-ez.onrender.com";Object(t.useEffect)((()=>{g()(document).on("scroll",(function(){g()(this).scrollTop()>100?g()(".scroll-to-top").fadeIn():g()(".scroll-to-top").fadeOut()}))}));Object(t.useEffect)((()=>{(async()=>{const e=await fetch("".concat(A,"/api/admin/class/getallASC")),s=await e.json();b(s)})()}),[]);const S=e=>{const s="1"===e?"Present":"Absent",a="1"===e?"#00FF00":"#FF0000";return Object(o.jsx)("span",{style:{backgroundColor:a},children:s})},C=[{label:"Id",field:"index"},{label:"FirstName",field:"firstName"},{label:"LastName",field:"lastName"},{label:"OtherName",field:"otherName"},{label:"Admission No",field:"admissionNumber"},{label:"class",field:"className"},{label:"classArm",field:"classArmName"},{label:"Session",field:"sessionName"},{label:"Term",field:"termName"},{label:"Status",field:"status",format:S},{label:"Date",field:"dateTimeTaken"}];console.log(l),console.log(d);return Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(E,{}),Object(o.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"View class Attendance"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"View class Attendance"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-lg-12",children:[Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"View class Attendance"})}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:e=>(async e=>{e.preventDefault();try{const e=await fetch("".concat(A,"/api/teacher/class/attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:r,classArmId:a,subjectId:l,dateTaken:O})});if(e.ok){const a=await e.json();console.log(a),a&&a.length>0?s(a):s([])}}catch(t){}v(""),p(""),N(""),n("")})(e),children:[Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),j&&Object(o.jsxs)("select",{required:!0,name:"className",value:f,onChange:e=>(async e=>{v(e.target.value);const s=j.find((s=>s.className===e.target.value));i(s.Id),(async()=>{const e=await fetch("".concat(A,"/api/admin/class/arms/getall/").concat(s.Id)),a=await e.json();x(a);const t=await fetch("".concat(A,"/api/teacher/subjects/").concat(s.Id)),c=await t.json();console.log(c),m(c)})()})(e),className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"--Select Class--"}),j.map(((e,s)=>Object(o.jsx)("option",{value:e.className,children:e.className},s)))]}),f&&Object(o.jsxs)("select",{required:!0,name:"classArmId",className:"form-control mb-2 mt-2",onChange:e=>{const s=h.find((s=>s.classArmName===e.target.value));c(s.Id)},children:[Object(o.jsx)("option",{value:"",children:"--Select Class Arm--"}),h.map(((e,s)=>Object(o.jsx)("option",{value:e.classArmName,children:e.classArmName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Date",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"date",className:"form-control",name:"dateTaken",value:O,onChange:e=>N(e.target.value),id:"exampleInputFirstName",placeholder:"className Arm Name"})]}),Object(o.jsxs)("div",{className:"col-xl-4 m-2",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Subject",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),d&&Object(o.jsxs)("select",{required:!0,name:"subjectName",value:u,onChange:e=>{p(e.target.value);const s=d.find((s=>s.subjectName===e.target.value));n(s.Id)},className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"--Select Subject--"}),d.map(((e,s)=>Object(o.jsx)("option",{value:e.subjectName,children:e.subjectName},s)))]})]})]}),Object(o.jsx)("button",{type:"submit",name:"view",className:"btn btn-primary",children:"View Attendance"})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"class Attendance"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:e&&e.length>0?Object(o.jsx)(y,{columns:C,rows:e.map(((e,s)=>({index:s+1,firstName:e.firstName,lastName:e.lastName,otherName:e.otherName,admissionNumber:e.admissionNumber,className:e.className,classArmName:e.classArmName,sessionName:e.sessionName,termName:e.termName,status:S(e.status),dateTimeTaken:e.dateTimeTaken})))}):Object(o.jsx)("div",{className:"alert alert-danger",role:"alert",children:"No Record Found!"})})]})})})]})})]}),Object(o.jsx)("footer",{})]})}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})})};var K=()=>{const e="https://ams-made-ez.onrender.com",[s,a]=Object(t.useState)([]),[c,l]=Object(t.useState)([]),[n,r]=Object(t.useState)(""),[i,d]=Object(t.useState)([]),[m,j]=Object(t.useState)(""),[b,h]=Object(t.useState)(""),[x,O]=Object(t.useState)(""),[N,u]=Object(t.useState)(""),[p,f]=Object(t.useState)([]),[g,v]=Object(t.useState)([]),[A,S]=Object(t.useState)(),[C,I]=Object(t.useState)(""),[T,k]=Object(t.useState)(""),[V,U]=Object(t.useState)(""),[X,M]=Object(t.useState)(""),[W,D]=Object(t.useState)(null),F=Object(t.useCallback)((async e=>{e.preventDefault(),console.log("Student",W);const s={type:C,admissionNumber:A,classId:n,classArmId:m,subjectId:N};"2"===C?(s.singleDate=X,console.log(s.singleDate)):"3"===C&&(s.fromDate=V,s.toDate=T),fetch("https://ams-made-ez.onrender.com/api/teacher/student/attendance",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{v(e)})).catch((e=>{console.error("Error:",e)})),h(""),O(""),I(""),S(""),M(""),j(""),r(""),u(""),D(null)}),[W,C,A,n,m,N,X,V,T]),J=Object(t.useCallback)((async()=>{try{const s=await fetch("".concat(e,"/api/teacher/view/students"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:n,classArmId:m})}),t=await s.json();a(t)}catch(s){}}),[m,n]),P=Object(t.useCallback)((async s=>{h(s.target.value);const a=c.find((e=>e.className===s.target.value));r(a.Id);(async()=>{const s=await fetch("".concat(e,"/api/admin/class/arms/getall/").concat(a.Id)),t=await s.json();d(t);const c=await fetch("".concat(e,"/api/teacher/subjects/").concat(a.Id)),l=await c.json();f(l)})()}),[c]);Object(t.useEffect)((()=>{n&&m&&J()}),[n,m,J,x]);const K=e=>{const s="1"===e?"Present":"Absent",a="1"===e?"#00FF00":"#FF0000";return Object(o.jsx)("span",{style:{backgroundColor:a},children:s})},L=[{label:"Id",field:"index"},{label:"FirstName",field:"firstName"},{label:"LastName",field:"lastName"},{label:"OtherName",field:"otherName"},{label:"Admission No",field:"admissionNumber"},{label:"class",field:"className"},{label:"classArm",field:"classArmName"},{label:"Session",field:"sessionName"},{label:"Term",field:"termName"},{label:"Status",field:"status",format:K},{label:"Date",field:"dateTimeTaken"}];return Object(t.useEffect)((()=>{(async()=>{const e=await fetch("".concat("http://localhost:8010","/api/admin/class/getallASC")),s=await e.json();l(s)})()}),[]),Object(o.jsx)("div",{children:Object(o.jsx)("div",{id:"page-top",children:Object(o.jsxs)("div",{id:"wrapper",children:[Object(o.jsx)(E,{}),Object(o.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(o.jsxs)("div",{id:"content",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"container-fluid",id:"container-wrapper",children:[Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(o.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"View Student Attendance"}),Object(o.jsxs)("ol",{className:"breadcrumb",children:[Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)("a",{href:"./",children:"Home"})}),Object(o.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"View Student Attendance"})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-lg-12",children:[Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"View Student Attendance"})}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{autoComplete:"on",onSubmit:e=>F(e),children:[Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-4 ",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Class",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),c&&Object(o.jsxs)("select",{required:!0,name:"className",value:b,onChange:e=>P(e),className:"form-control mb-3",children:[Object(o.jsx)("option",{value:"",children:"--Select Class--"}),c.map(((e,s)=>Object(o.jsx)("option",{value:e.className,children:e.className},s)))]}),b&&Object(o.jsxs)("select",{required:!0,name:"classArmId",className:"form-control mb-3",onChange:e=>{const s=i.find((s=>s.classArmName===e.target.value));j(s.Id)},children:[Object(o.jsx)("option",{value:"",children:"--Select Class Arm--"}),i.map(((e,s)=>Object(o.jsx)("option",{value:e.classArmName,children:e.classArmName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Student",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),s&&Object(o.jsxs)("select",{required:!0,onChange:e=>{S(e.target.value);const a=e.target.value;D(a?s.find((e=>e.admissionNumber===a)):null)},value:A,name:"admissionNumber",className:"form-control mb-3",children:[Object(o.jsx)("option",{value:"",children:"--Select Student--"}),s.map(((e,s)=>Object(o.jsx)("option",{value:e.admissionNumber,children:e.firstName+" "+e.lastName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4 ",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Subject",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsxs)("select",{required:!0,name:"subjectName",value:x,onChange:e=>{O(e.target.value);const s=p.find((s=>s.subjectName===e.target.value));u(s.Id)},className:"form-control mb-3",children:[Object(o.jsx)("option",{value:"",children:"--Select Subject--"}),p.map(((e,s)=>Object(o.jsx)("option",{value:e.subjectName,children:e.subjectName},s)))]})]}),Object(o.jsxs)("div",{className:"col-xl-4",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Type",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsxs)("select",{required:!0,name:"type",value:C,onChange:e=>{I(e.target.value)},className:"form-control mb-3",children:[Object(o.jsx)("option",{value:"",children:"--Select--"}),Object(o.jsx)("option",{value:"1",children:"All"}),Object(o.jsx)("option",{value:"2",children:"By Single Date"}),Object(o.jsx)("option",{value:"3",children:"By Date Range"})]}),"2"===C?Object(o.jsx)("div",{className:"form-group row mb-3",children:Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["Select Date",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"date",value:X,onChange:e=>M(e.target.value),className:"form-control",name:"singleDate",id:"exampleInputFirstName"})]})}):"3"===C?Object(o.jsxs)("div",{className:"form-group row mb-3",children:[Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["From Date",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"date",value:V,onChange:e=>U(e.target.value),className:"form-control",name:"fromDate",id:"exampleInputFirstName"})]}),Object(o.jsxs)("div",{className:"col-xl-6",children:[Object(o.jsxs)("label",{className:"form-control-label",children:["To Date",Object(o.jsx)("span",{className:"text-danger ml-2",children:"*"})]}),Object(o.jsx)("input",{type:"date",className:"form-control",value:T,onChange:e=>k(e.target.value),name:"toDate",id:"exampleInputFirstName"})]})]}):null]})]}),Object(o.jsx)("button",{type:"submit",name:"view",className:"btn btn-primary",children:"View Attendance"})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"card mb-4",children:[Object(o.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:Object(o.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"class Attendance"})}),Object(o.jsx)("div",{className:"table-responsive align-items-center table-flush p-3",children:g&&g.length>0?Object(o.jsx)(y,{columns:L,rows:g.map(((e,s)=>({index:s+1,firstName:e.firstName,lastName:e.lastName,otherName:e.otherName,admissionNumber:e.admissionNumber,className:e.className,classArmName:e.classArmName,sessionName:e.sessionName,termName:e.termName,status:K(e.status),dateTimeTaken:e.dateTimeTaken})))}):Object(o.jsx)("div",{className:"alert alert-danger",role:"alert",children:"No Record Found!"})})]})})})]})})]}),Object(o.jsx)(q,{})]}),Object(o.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(o.jsx)("i",{className:"fas fa-angle-up"})})]})]})})})};var L=()=>{const e=JSON.parse(localStorage.getItem("user")),[s,a]=Object(t.useState)([]),c=()=>Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"FirstName"}),Object(o.jsx)("th",{children:"LastName"}),Object(o.jsx)("th",{children:"OtherName"}),Object(o.jsx)("th",{children:"AdmissionNo"}),Object(o.jsx)("th",{children:"Class"}),Object(o.jsx)("th",{children:"ClassArm"}),Object(o.jsx)("th",{children:"Session"}),Object(o.jsx)("th",{children:"Term"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Date"})]})}),l=e=>{let s,a,{cnt:t,firstName:c,lastName:l,otherName:n,admissionNumber:r,className:i,classArmName:d,sessionName:m,termName:j,status:b,dateTimeTaken:h}=e;return"1"===b?(s="Present",a="#00FF00"):(s="Absent",a="#FF0000"),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t}),Object(o.jsx)("td",{children:c}),Object(o.jsx)("td",{children:l}),Object(o.jsx)("td",{children:n}),Object(o.jsx)("td",{children:r}),Object(o.jsx)("td",{children:i}),Object(o.jsx)("td",{children:d}),Object(o.jsx)("td",{children:m}),Object(o.jsx)("td",{children:j}),Object(o.jsx)("td",{style:{backgroundColor:a},children:s}),Object(o.jsx)("td",{children:h})]})},n=e=>{let{studentData:s}=e;const a=(new Date).toISOString().slice(0,10);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"btn btn-primary p-2 m-2",onClick:()=>{const e=[],t=Object.keys(s[0]);e.push(t);for(const a of s){const s=[];for(const e of t)s.push(a[e]);e.push(s)}const c="data:text/csv;charset=utf-8,"+encodeURIComponent(e.map((e=>e.join(","))).join("\n")),l=document.createElement("a");l.setAttribute("href",c),l.setAttribute("download","".concat("Attendance list","-").concat(a,".csv")),l.click()},children:"Download Report"}),Object(o.jsxs)("table",{className:"table table-dark align-items-center table flush",children:[Object(o.jsx)(c,{}),Object(o.jsx)("tbody",{children:s.map(((e,s)=>Object(o.jsx)(l,{cnt:s+1,...e},e.Id)))})]})]})};return Object(t.useEffect)((()=>{(async()=>{try{const s="https://ams-made-ez.onrender.com",t=await fetch("".concat(s,"/generate_reports"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:e.classId,classArmId:e.classArmId})});if(t.ok){const e=await t.json();a(e)}}catch(s){console.log(s)}})()}),[]),Object(o.jsx)(n,{studentData:s})};var R=()=>Object(o.jsx)(n.a,{children:Object(o.jsx)(b,{children:Object(o.jsxs)(r.e,{children:[Object(o.jsx)(r.c,{exact:!0,path:"/",element:Object(o.jsx)(x,{})}),Object(o.jsxs)(r.c,{element:Object(o.jsx)(O,{}),children:[Object(o.jsx)(r.c,{exact:!0,path:"/admin",element:Object(o.jsx)(F,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/admin/students",element:Object(o.jsx)(I,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/admin/classes",element:Object(o.jsx)(T,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/admin/teachers",element:Object(o.jsx)(X,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/admin/arms",element:Object(o.jsx)(M,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/admin/session",element:Object(o.jsx)(W,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher/viewStudents",element:Object(o.jsx)(U,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher/TakeAttendance",element:Object(o.jsx)(J,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher/ViewClassAttendance",element:Object(o.jsx)(P,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher/ViewStudentAttendance",element:Object(o.jsx)(K,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher/Today'sReports",element:Object(o.jsx)(L,{})}),Object(o.jsx)(r.c,{exact:!0,path:"/teacher",element:Object(o.jsx)(D,{})})]})]})})});l.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(R,{})}))},15:function(e,s,a){},53:function(e,s,a){},80:function(e,s,a){},84:function(e,s,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.770468ce.chunk.js.map